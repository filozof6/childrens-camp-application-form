{"remainingRequest":"/home/roman/smajlovo/html/orderForm/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/roman/smajlovo/html/orderForm/front/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/roman/smajlovo/html/orderForm/front/src/App.vue","mtime":1581275121731},{"path":"/home/roman/smajlovo/html/orderForm/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/smajlovo/html/orderForm/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/roman/smajlovo/html/orderForm/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/smajlovo/html/orderForm/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzdG9yZSBmcm9tICcuL3N0b3JlL2luZGV4LmpzJzsKaW1wb3J0IEN1c3RvbWVyRm9ybSBmcm9tICIuL2NvbXBvbmVudHMvQ3VzdG9tZXJGb3JtIjsKaW1wb3J0IENoaWxkRm9ybSBmcm9tICIuL2NvbXBvbmVudHMvQ2hpbGRGb3JtIjsKaW1wb3J0IHsgQkljb25QbHVzLCBCSWNvblggfSBmcm9tICdib290c3RyYXAtdnVlJzsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycywgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnYXBwJywKICBjb21wb25lbnRzOiB7CiAgICBDaGlsZEZvcm0sCiAgICBDdXN0b21lckZvcm0sCiAgICBCSWNvblBsdXMsIEJJY29uWCwKICB9LAogIHN0b3JlLAogIG1ldGhvZHM6IHsKICAgIGFkZEFub3RoZXJLaWQoKSB7CiAgICAgIHRoaXMuYW5vdGhlcktpZCA9IHRydWU7CiAgICB9LAogICAgcmVtb3ZlQW5vdGhlcktpZCgpIHsKICAgICAgdGhpcy5hbm90aGVyS2lkID0gZmFsc2U7CiAgICB9LAogICAgLi4ubWFwQWN0aW9ucygnb3JkZXJGb3JtJywgWwogICAgICAnZmV0Y2hGb3JtRGF0YScsCiAgICAgICdzdWJtaXRGb3JtJwogICAgXSksCiAgICB0b2dnbGVNb2RhbCgpIHsKICAgICAgdGhpcy4kcmVmc1snbXktbW9kYWwnXS50b2dnbGUoJyN0b2dnbGUtYnRuJyk7CiAgICB9LAogICAgY2xpY2tPblN1Ym1pdCgpIHsKICAgICAgdGhpcy50b2dnbGVNb2RhbCgpOwogICAgICB0aGlzLnN1Ym1pdEZvcm0oKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBzZWxlY3RlZFRyaXA6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5vcmRlckZvcm0udHJpcC5zZWxlY3RlZDsKICAgICAgfSwKICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdvcmRlckZvcm0vc2VsZWN0VHJpcCcsIHZhbHVlKQogICAgICB9CiAgICB9LAogICAgYW5vdGhlcktpZDogewogICAgICBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyRm9ybS5hbm90aGVyS2lkOwogICAgICB9LAogICAgICBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ29yZGVyRm9ybS91cGRhdGVBbm90aGVyS2lkJywgdmFsdWUpCiAgICAgIH0KICAgIH0sCiAgICBub3RlczogewogICAgICBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyRm9ybS5ub3RlczsKICAgICAgfSwKICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdvcmRlckZvcm0vdXBkYXRlTm90ZXMnLCBfLmNhcGl0YWxpemUodmFsdWUpKQogICAgICB9CiAgICB9LAogICAgdHJhbnNwb3J0YXRpb246IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5vcmRlckZvcm0udHJhbnNwb3J0YXRpb247CiAgICAgIH0sCiAgICAgIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnb3JkZXJGb3JtL3VwZGF0ZVRyYW5zcG9ydGF0aW9uJywgdmFsdWUpCiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RlZEdyb3VwVHJhbnNwb3J0OiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJGb3JtLmdyb3VwVHJhbnNwb3J0LnNlbGVjdGVkOwogICAgICB9LAogICAgICBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ29yZGVyRm9ybS9zZWxlY3RHcm91cFRyYW5zcG9ydCcsIHZhbHVlKQogICAgICB9CiAgICB9LAogICAgZ2RwckNvbnNlbnQ6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5vcmRlckZvcm0uZ2RwckNvbnNlbnQ7CiAgICAgIH0sCiAgICAgIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnb3JkZXJGb3JtL3VwZGF0ZUdkcHJDb25zZW50JywgdmFsdWUpCiAgICAgIH0KICAgIH0sCiAgICB0ZXJtc0FuZENvbmRpdGlvbnNDb25zZW50OiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJGb3JtLnRlcm1zQW5kQ29uZGl0aW9uc0NvbnNlbnQ7CiAgICAgIH0sCiAgICAgIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnb3JkZXJGb3JtL3VwZGF0ZVRlcm1zQW5kQ29uZGl0aW9uc0NvbnNlbnQnLCB2YWx1ZSkKICAgICAgfQogICAgfSwKICAgIC4uLm1hcEdldHRlcnMoJ29yZGVyRm9ybScsIFsKICAgICAgJ3RvdGFsUHJpY2UnLAogICAgICAnZ2V0VHJpcERhdGEnLAogICAgICAnY2FuQmVTdWJtaXR0ZWQnLAogICAgXSksCiAgICAuLi5tYXBTdGF0ZSgnb3JkZXJGb3JtJywgWwogICAgICAncmVzcG9uc2VSZWNlaXZlZCcsCiAgICBdKQogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoRm9ybURhdGEoKTsKICB9Cn0K"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4MA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n    <div id=\"app\">\n        <b-container>\n            <b-row align-h=\"start\">\n                <b-col>\n                    <b-form-group\n                            id=\"tripFieldset\"\n                            description=\"Vyberte si turnus.\"\n                            label=\"Termíny detské tábory SMAJLOVO 2020\"\n                            label-for=\"trip\"\n                    >\n                        <b-form-select id=\"trip\" v-model=\"selectedTrip\"\n                                       :options=\"$store.state.orderForm.trip.options\" />\n                    </b-form-group>\n                </b-col>\n            </b-row>\n        </b-container>\n        <b-container v-if=\"selectedTrip\">\n            <customer-form />\n            <b-row>\n                <b-col>\n                    <strong>Údaje o dieťati</strong>\n                </b-col>\n            </b-row>\n            <ChildForm index=\"0\" />\n            <template v-if=\"anotherKid\">\n                <b-row>\n                    <b-col>\n                        <strong>Ďalšie dieťa - súrodenec</strong>\n                    </b-col>\n                </b-row>\n                <ChildForm index=\"1\" />\n                <b-row>\n                    <b-col>\n                        <p>Súrodenecká zľava spolu: {{ getTripData(selectedTrip).siblingDiscount }} €/dieťa</p>\n                    </b-col>\n                </b-row>\n                <b-row>\n                    <b-col>\n                        <b-button :variant=\"'danger'\" @click=\"removeAnotherKid\">\n                            <b-icon-x />\n                            Odobrať súrodenca\n                        </b-button>\n                    </b-col>\n                </b-row>\n            </template>\n            <b-row v-else>\n                <b-col>\n                    <b-button :variant=\"'success'\" @click=\"addAnotherKid\">\n                        <b-icon-plus />\n                        Pridať súrodenca\n                    </b-button>\n                </b-col>\n            </b-row>\n            <b-row class=\"margin-top-primary\">\n                <b-col>\n                    <b-form-group\n                            id=\"notesFieldset\"\n                            label=\"Poznámky\"\n                            label-for=\"notes\"\n                    >\n                        <b-form-textarea\n                                id=\"textarea\"\n                                v-model=\"notes\"\n                                placeholder=\"lieky, diéta, potvrdenie o absolvovaní tábora, iný spôsob úhrady, ...\"\n                                rows=\"3\"\n                                max-rows=\"6\"\n                        />\n                    </b-form-group>\n                </b-col>\n            </b-row>\n            <b-row>\n                <b-col>\n                    <strong>Doprava (vyberte jednu z možností)</strong>\n                </b-col>\n            </b-row>\n            <b-row>\n                <b-col>\n                    <b-form-radio v-model=\"transportation\" name=\"transportation\" value=\"individual\">individuálna\n                        doprava\n                    </b-form-radio>\n                </b-col>\n            </b-row>\n            <b-row>\n                <b-col>\n                    <b-form-radio v-model=\"transportation\" name=\"transportation\" value=\"group\">spoločná doprava\n                        (príplatok {{ getTripData(selectedTrip).groupTransportFee }} €/dieťa)\n                    </b-form-radio>\n                </b-col>\n                <b-col v-if=\"transportation === 'group'\">\n                    <b-form-group\n                            id=\"groupTransportFieldset\"\n                            label=\"miesto nástupu\"\n                            label-for=\"groupTransport\"\n                            label-align=\"right\"\n                            label-cols-sm=\"6\"\n                    >\n                        <b-form-select id=\"groupTransport\" v-model=\"selectedGroupTransport\"\n                                       :options=\"$store.state.orderForm.groupTransport.options\" />\n                    </b-form-group>\n                </b-col>\n            </b-row>\n\n            <b-row class=\"margin-top-primary\">\n                <b-col>\n                    <strong>Celková cena spolu</strong>\n                </b-col>\n            </b-row>\n            <b-row>\n                <b-col>\n                    <b-alert :show=\"true\" :variant=\"'dark'\">{{ totalPrice }} EUR</b-alert>\n                </b-col>\n            </b-row>\n\n            <b-row class=\"margin-top-half\">\n                <b-col>\n                    <b-link href=\"https://www.smajlovo.sk/files/download/2020/zasady_spracovania_osobnych_udajov.pdf\"\n                            target=\"_blank\"\n                    >\n                        Oboznámil(a) som sa s informáciami o spracovaní osobných údajov.\n                    </b-link>\n                </b-col>\n            </b-row>\n            <b-row>\n                <b-col>\n                    <b-link href=\"https://smajlovo.sk/files/dokumenty/vseobecne_podmienky_poskytovania_sluzieb_smajlovo.pdf\"\n                            target=\"_blank\"\n                    >\n                        Súhlasím so Všeobecnými podmienkami poskytovania služieb.\n                    </b-link>\n                </b-col>\n            </b-row>\n            <b-row class=\"margin-top-half\">\n                <b-col>\n                    <b-form-checkbox\n                            id=\"gdprConsent\"\n                            v-model=\"gdprConsent\"\n                            name=\"gdprConsent\"\n                            :value=\"true\"\n                            :unchecked-value=\"false\"\n                    >\n                        Súhlasím so spracovaním osobných údajov\n                    </b-form-checkbox>\n                </b-col>\n            </b-row>\n            <b-row>\n                <b-col>\n                    <b-form-checkbox\n                            id=\"termsAndConditionsConsent\"\n                            v-model=\"termsAndConditionsConsent\"\n                            name=\"termsAndConditionsConsent\"\n                            :value=\"true\"\n                            :unchecked-value=\"false\"\n                    >\n                        Súhlasím so všeobecnými podmienkami poskytovania služieb\n                    </b-form-checkbox>\n                </b-col>\n            </b-row>\n\n            <b-row class=\"margin-top-half\">\n                <b-col>\n                    Po odoslaní objednávky Vám budú na Vašu emailovú adresu odoslané dva e-maily s dokumentmi<br>\n                </b-col>\n            </b-row>\n            <b-row class=\"margin-top-half\">\n                <b-col>\n                    <b-button @click=\"clickOnSubmit\" :disabled=\"!canBeSubmitted\" :variant=\"'warning'\" style=\"width: 100%\"\n                              size=\"lg\">OBJEDNAŤ\n                    </b-button>\n                </b-col>\n            </b-row>\n        </b-container>\n        <b-modal ref=\"my-modal\" hide-footer hide-header>\n            <div class=\"d-block text-center\">\n                <div v-if=\"!responseReceived\">\n                <h3>Spracovávame...</h3>\n                    <b-spinner\n                            :variant=\"'success'\"\n                            type=\"grow\"\n                    />\n                    <b-spinner\n                            :variant=\"'warning'\"\n                    />\n                    <b-spinner\n                            :variant=\"'success'\"\n                            type=\"grow\"\n                    />\n                </div>\n                <div v-else-if=\"responseReceived===200\">\n                    <h3>Vaša objenávka bola spracovaná!</h3>\n                    <h4>Skontrolujte si svoj email.</h4>\n                    <b-icon :style=\"{ width: '10em', height: '10em' }\" icon=\"check-circle\" :variant=\"'success'\" />\n                </div>\n                <div v-else>\n                    <h3>Akcia sa nepodarila</h3>\n                    <h4>Prosím kontaktujte nás na smajlovo@smajlovo.sk</h4>\n                    <b-icon :style=\"{ width: '10em', height: '10em' }\" icon=\"wrench\" :variant=\"'danger'\" />\n                </div>\n            </div>\n        </b-modal>\n    </div>\n</template>\n\n<script>\n  import store from './store/index.js';\n  import CustomerForm from \"./components/CustomerForm\";\n  import ChildForm from \"./components/ChildForm\";\n  import { BIconPlus, BIconX } from 'bootstrap-vue';\n  import { mapActions, mapGetters, mapState } from 'vuex';\n  import _ from 'lodash';\n\n  export default {\n    name: 'app',\n    components: {\n      ChildForm,\n      CustomerForm,\n      BIconPlus, BIconX,\n    },\n    store,\n    methods: {\n      addAnotherKid() {\n        this.anotherKid = true;\n      },\n      removeAnotherKid() {\n        this.anotherKid = false;\n      },\n      ...mapActions('orderForm', [\n        'fetchFormData',\n        'submitForm'\n      ]),\n      toggleModal() {\n        this.$refs['my-modal'].toggle('#toggle-btn');\n      },\n      clickOnSubmit() {\n        this.toggleModal();\n        this.submitForm();\n      }\n    },\n    computed: {\n      selectedTrip: {\n        get() {\n          return this.$store.state.orderForm.trip.selected;\n        },\n        set(value) {\n          this.$store.commit('orderForm/selectTrip', value)\n        }\n      },\n      anotherKid: {\n        get() {\n          return this.$store.state.orderForm.anotherKid;\n        },\n        set(value) {\n          this.$store.commit('orderForm/updateAnotherKid', value)\n        }\n      },\n      notes: {\n        get() {\n          return this.$store.state.orderForm.notes;\n        },\n        set(value) {\n          this.$store.commit('orderForm/updateNotes', _.capitalize(value))\n        }\n      },\n      transportation: {\n        get() {\n          return this.$store.state.orderForm.transportation;\n        },\n        set(value) {\n          this.$store.commit('orderForm/updateTransportation', value)\n        }\n      },\n      selectedGroupTransport: {\n        get() {\n          return this.$store.state.orderForm.groupTransport.selected;\n        },\n        set(value) {\n          this.$store.commit('orderForm/selectGroupTransport', value)\n        }\n      },\n      gdprConsent: {\n        get() {\n          return this.$store.state.orderForm.gdprConsent;\n        },\n        set(value) {\n          this.$store.commit('orderForm/updateGdprConsent', value)\n        }\n      },\n      termsAndConditionsConsent: {\n        get() {\n          return this.$store.state.orderForm.termsAndConditionsConsent;\n        },\n        set(value) {\n          this.$store.commit('orderForm/updateTermsAndConditionsConsent', value)\n        }\n      },\n      ...mapGetters('orderForm', [\n        'totalPrice',\n        'getTripData',\n        'canBeSubmitted',\n      ]),\n      ...mapState('orderForm', [\n        'responseReceived',\n      ])\n    },\n\n    created() {\n      this.fetchFormData();\n    }\n  }\n</script>\n\n<style>\n    #app {\n        font-family: 'Avenir', Helvetica, Arial, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        color: #2c3e50;\n        margin-top: 60px;\n    }\n\n    .margin-top-primary {\n        margin-top: 60px;\n    }\n\n    .margin-top-half {\n        margin-top: 30px;\n    }\n</style>\n"]}]}