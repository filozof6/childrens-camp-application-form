{"remainingRequest":"/home/roman/smajlovo/html/orderForm/front/node_modules/babel-loader/lib/index.js!/home/roman/smajlovo/html/orderForm/front/node_modules/eslint-loader/index.js??ref--13-0!/home/roman/smajlovo/html/orderForm/front/src/store/modules/OrderForm/index.js","dependencies":[{"path":"/home/roman/smajlovo/html/orderForm/front/src/store/modules/OrderForm/index.js","mtime":1581277704753},{"path":"/home/roman/smajlovo/html/orderForm/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roman/smajlovo/html/orderForm/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/roman/smajlovo/html/orderForm/front/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS9yb21hbi9zbWFqbG92by9odG1sL29yZGVyRm9ybS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsgLy8gaW5pdGlhbCBzdGF0ZQoKdmFyIHN0YXRlID0gewogIHRyaXA6IHsKICAgIHNlbGVjdGVkOiBudWxsLAogICAgb3B0aW9uczogW10KICB9LAogIGN1c3RvbWVyOiB7CiAgICB0aXRsZTogJycsCiAgICBmaXJzdE5hbWU6ICcnLAogICAgbGFzdE5hbWU6ICcnLAogICAgbW9iaWxlOiAnJywKICAgIGVtYWlsOiAnJywKICAgIGFkZHJlc3M6IHsKICAgICAgc3RyZWV0TnVtYmVyOiAnJywKICAgICAgY2l0eTogJycsCiAgICAgIHppcENvZGU6ICcnCiAgICB9CiAgfSwKICBjaGlsZHJlbjogewogICAgIjAiOiB7CiAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgIGxhc3ROYW1lOiAnJywKICAgICAgZGF0ZU9mQmlydGg6ICcnCiAgICB9LAogICAgIjEiOiB7CiAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgIGxhc3ROYW1lOiAnJywKICAgICAgZGF0ZU9mQmlydGg6ICcnCiAgICB9CiAgfSwKICBhbm90aGVyS2lkOiBmYWxzZSwKICBub3RlczogJycsCiAgdHJhbnNwb3J0YXRpb246ICcnLAogIGdyb3VwVHJhbnNwb3J0OiB7CiAgICBzZWxlY3RlZDogbnVsbCwKICAgIG9wdGlvbnM6IFtdCiAgfSwKICBnZHByQ29uc2VudDogZmFsc2UsCiAgdGVybXNBbmRDb25kaXRpb25zQ29uc2VudDogZmFsc2UsCiAgcmVzcG9uc2VSZWNlaXZlZDogMAp9OyAvLyBnZXR0ZXJzCgp2YXIgZ2V0dGVycyA9IHsKICB0b3RhbFByaWNlOiBmdW5jdGlvbiB0b3RhbFByaWNlKHN0YXRlLCBnZXR0ZXJzKSB7CiAgICB2YXIgcHJpY2VUb1JldHVybiA9IDA7CgogICAgaWYgKHN0YXRlLnRyaXAuc2VsZWN0ZWQpIHsKICAgICAgdmFyIHRyaXBEYXRhID0gZ2V0dGVycy5nZXRUcmlwRGF0YShzdGF0ZS50cmlwLnNlbGVjdGVkKTsKICAgICAgcHJpY2VUb1JldHVybiArPSB0cmlwRGF0YS5wcmljZUZvcktpZDsKCiAgICAgIGlmIChzdGF0ZS50cmFuc3BvcnRhdGlvbiA9PT0gJ2dyb3VwJykgewogICAgICAgIHByaWNlVG9SZXR1cm4gKz0gMTU7CiAgICAgIH0KCiAgICAgIGlmIChzdGF0ZS5hbm90aGVyS2lkKSB7CiAgICAgICAgcHJpY2VUb1JldHVybiA9IChwcmljZVRvUmV0dXJuIC0gdHJpcERhdGEuc2libGluZ0Rpc2NvdW50KSAqIDI7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gcHJpY2VUb1JldHVybjsKICB9LAogIGdldFRyaXBEYXRhOiBmdW5jdGlvbiBnZXRUcmlwRGF0YShzdGF0ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChzZWxlY3RlZFRyaXBWYWx1ZSkgewogICAgICBpZiAoc2VsZWN0ZWRUcmlwVmFsdWUpIHsKICAgICAgICByZXR1cm4gc3RhdGUudHJpcC5vcHRpb25zLmZpbmQoZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgIHJldHVybiBlbGVtZW50LnZhbHVlID09PSBzZWxlY3RlZFRyaXBWYWx1ZTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9OwogIH0sCiAgY2FuQmVTdWJtaXR0ZWQ6IGZ1bmN0aW9uIGNhbkJlU3VibWl0dGVkKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuY3VzdG9tZXIuZmlyc3ROYW1lLmxlbmd0aCAmJiBzdGF0ZS5jdXN0b21lci5sYXN0TmFtZS5sZW5ndGggJiYgc3RhdGUuY3VzdG9tZXIubW9iaWxlLmxlbmd0aCAmJiBzdGF0ZS5jdXN0b21lci5lbWFpbC5sZW5ndGggJiYgc3RhdGUuY3VzdG9tZXIuYWRkcmVzcy5zdHJlZXROdW1iZXIubGVuZ3RoICYmIHN0YXRlLmN1c3RvbWVyLmFkZHJlc3MuY2l0eS5sZW5ndGggJiYgc3RhdGUuY3VzdG9tZXIuYWRkcmVzcy56aXBDb2RlLmxlbmd0aCAmJiAvLyBjaGlsZCB2YWxpZGF0aW9uCiAgICBzdGF0ZS5jaGlsZHJlblswXS5maXJzdE5hbWUubGVuZ3RoICYmIHN0YXRlLmNoaWxkcmVuWzBdLmxhc3ROYW1lLmxlbmd0aCAmJiBzdGF0ZS5jaGlsZHJlblswXS5kYXRlT2ZCaXJ0aC5sZW5ndGggJiYgKCFzdGF0ZS5hbm90aGVyS2lkIHx8IHN0YXRlLmFub3RoZXJLaWQgJiYgc3RhdGUuY2hpbGRyZW5bMV0uZmlyc3ROYW1lLmxlbmd0aCAmJiBzdGF0ZS5jaGlsZHJlblsxXS5sYXN0TmFtZS5sZW5ndGggJiYgc3RhdGUuY2hpbGRyZW5bMV0uZGF0ZU9mQmlydGgubGVuZ3RoKSAmJiAoIC8vIHRyYW5zcG9ydCB2YWxpZGF0aW9uCiAgICBzdGF0ZS50cmFuc3BvcnRhdGlvbiA9PT0gJ2luZGl2aWR1YWwnIHx8IHN0YXRlLnRyYW5zcG9ydGF0aW9uID09PSAnZ3JvdXAnICYmIHN0YXRlLmdyb3VwVHJhbnNwb3J0LnNlbGVjdGVkKSAmJiAvLyBjb25zZW50cyB2YWxpZGF0aW9uCiAgICBzdGF0ZS5nZHByQ29uc2VudCAmJiBzdGF0ZS50ZXJtc0FuZENvbmRpdGlvbnNDb25zZW50OwogIH0KfTsgLy8gYWN0aW9ucwoKdmFyIGFjdGlvbnMgPSB7CiAgZmV0Y2hGb3JtRGF0YTogZnVuY3Rpb24gZmV0Y2hGb3JtRGF0YShjb250ZXh0KSB7CiAgICBjb25zb2xlLmxvZygnZmV0Y2hGb3JtRGF0YScpOwogICAgYXhpb3MuZ2V0KCdodHRwczovL3NtYWpsb3ZvLnNrL29yZGVyRm9ybS9iYWNrL3B1YmxpYy9pbmRleC5waHAvZ2V0Rm9ybURhdGEnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAvLyBoYW5kbGUgc3VjY2VzcwogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRUcmlwT3B0aW9ucycsIHJlc3BvbnNlLmRhdGEudHJpcERhdGEpOwogICAgICBjb250ZXh0LmNvbW1pdCgnc2V0R3JvdXBUcmFuc3BvcnRPcHRpb25zJywgcmVzcG9uc2UuZGF0YS5ncm91cFRyYW5zcG9ydFN0b3BzKTsKICAgIH0pOwogIH0sCiAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybShjb250ZXh0KSB7CiAgICBjb25zb2xlLmxvZygnc3VibWl0IGZvcm0gYWN0aW9uJywgY29udGV4dCk7CiAgICBjb250ZXh0LmNvbW1pdCgnc2V0UmVzcG9uc2VSZWNlaXZlZCcsIGZhbHNlKTsKCiAgICB2YXIgZGF0YVRvU2VuZCA9IF9vYmplY3RTcHJlYWQoe30sIGNvbnRleHQuc3RhdGUpOwoKICAgIGNvbnNvbGUubG9nKCdzdWJtaXQgZm9ybSBhY3Rpb24nLCBkYXRhVG9TZW5kKTsKICAgIGRhdGFUb1NlbmQudG90YWxQcmljZSA9IGNvbnRleHQuZ2V0dGVycy50b3RhbFByaWNlOwogICAgYXhpb3MucG9zdCgnaHR0cHM6Ly9zbWFqbG92by5zay9vcmRlckZvcm0vYmFjay9wdWJsaWMvaW5kZXgucGhwL3N1Ym1pdEZvcm0nLCBkYXRhVG9TZW5kKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAvLyBoYW5kbGUgc3VjY2VzcwogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRSZXNwb25zZVJlY2VpdmVkJywgMjAwKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIC8vIGhhbmRsZSBzdWNjZXNzCiAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICBjb250ZXh0LmNvbW1pdCgnc2V0UmVzcG9uc2VSZWNlaXZlZCcsIDUwMCk7CiAgICB9KTsKICB9Cn07IC8vIG11dGF0aW9ucwoKdmFyIG11dGF0aW9ucyA9IHsKICBzZWxlY3RUcmlwOiBmdW5jdGlvbiBzZWxlY3RUcmlwKHN0YXRlLCB2YWx1ZSkgewogICAgc3RhdGUudHJpcC5zZWxlY3RlZCA9IHZhbHVlOwogIH0sCiAgc2V0VHJpcE9wdGlvbnM6IGZ1bmN0aW9uIHNldFRyaXBPcHRpb25zKHN0YXRlLCB2YWx1ZSkgewogICAgc3RhdGUudHJpcC5vcHRpb25zID0gdmFsdWU7CiAgfSwKICBzZXRHcm91cFRyYW5zcG9ydE9wdGlvbnM6IGZ1bmN0aW9uIHNldEdyb3VwVHJhbnNwb3J0T3B0aW9ucyhzdGF0ZSwgdmFsdWUpIHsKICAgIHN0YXRlLmdyb3VwVHJhbnNwb3J0Lm9wdGlvbnMgPSB2YWx1ZTsKICB9LAogIHVwZGF0ZUN1c3RvbWVyOiBmdW5jdGlvbiB1cGRhdGVDdXN0b21lcihzdGF0ZSwgY3VzdG9tZXIpIHsKICAgIHN0YXRlLmN1c3RvbWVyID0gXy5tZXJnZSh7fSwgc3RhdGUuY3VzdG9tZXIsIGN1c3RvbWVyKTsKICB9LAogIHVwZGF0ZUNoaWxkcmVuOiBmdW5jdGlvbiB1cGRhdGVDaGlsZHJlbihzdGF0ZSwgX3JlZikgewogICAgdmFyIGlkID0gX3JlZi5pZCwKICAgICAgICBraWRTdHJ1Y3R1cmUgPSBfcmVmLmtpZFN0cnVjdHVyZTsKICAgIHN0YXRlLmNoaWxkcmVuID0gXy5tZXJnZSh7fSwgc3RhdGUuY2hpbGRyZW4sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaWQsIGtpZFN0cnVjdHVyZSkpOwogIH0sCiAgdXBkYXRlQW5vdGhlcktpZDogZnVuY3Rpb24gdXBkYXRlQW5vdGhlcktpZChzdGF0ZSwgdmFsdWUpIHsKICAgIHN0YXRlLmFub3RoZXJLaWQgPSB2YWx1ZTsKICB9LAogIHVwZGF0ZU5vdGVzOiBmdW5jdGlvbiB1cGRhdGVOb3RlcyhzdGF0ZSwgdmFsdWUpIHsKICAgIHN0YXRlLm5vdGVzID0gdmFsdWU7CiAgfSwKICB1cGRhdGVUcmFuc3BvcnRhdGlvbjogZnVuY3Rpb24gdXBkYXRlVHJhbnNwb3J0YXRpb24oc3RhdGUsIHZhbHVlKSB7CiAgICBzdGF0ZS50cmFuc3BvcnRhdGlvbiA9IHZhbHVlOwogIH0sCiAgc2VsZWN0R3JvdXBUcmFuc3BvcnQ6IGZ1bmN0aW9uIHNlbGVjdEdyb3VwVHJhbnNwb3J0KHN0YXRlLCB2YWx1ZSkgewogICAgc3RhdGUuZ3JvdXBUcmFuc3BvcnQuc2VsZWN0ZWQgPSB2YWx1ZTsKICB9LAogIHVwZGF0ZUdkcHJDb25zZW50OiBmdW5jdGlvbiB1cGRhdGVHZHByQ29uc2VudChzdGF0ZSwgdmFsdWUpIHsKICAgIHN0YXRlLmdkcHJDb25zZW50ID0gQm9vbGVhbih2YWx1ZSk7CiAgfSwKICB1cGRhdGVUZXJtc0FuZENvbmRpdGlvbnNDb25zZW50OiBmdW5jdGlvbiB1cGRhdGVUZXJtc0FuZENvbmRpdGlvbnNDb25zZW50KHN0YXRlLCB2YWx1ZSkgewogICAgY29uc29sZS5sb2coJ3VwZGF0ZVRlcm1zQW5kQ29uZGl0aW9uc0NvbnNlbnQnLCBCb29sZWFuKHZhbHVlKSk7CiAgICBzdGF0ZS50ZXJtc0FuZENvbmRpdGlvbnNDb25zZW50ID0gQm9vbGVhbih2YWx1ZSk7CiAgfSwKICBzZXRSZXNwb25zZVJlY2VpdmVkOiBmdW5jdGlvbiBzZXRSZXNwb25zZVJlY2VpdmVkKHN0YXRlLCB2YWx1ZSkgewogICAgc3RhdGUucmVzcG9uc2VSZWNlaXZlZCA9IHZhbHVlOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["/home/roman/smajlovo/html/orderForm/front/src/store/modules/OrderForm/index.js"],"names":["axios","_","state","trip","selected","options","customer","title","firstName","lastName","mobile","email","address","streetNumber","city","zipCode","children","dateOfBirth","anotherKid","notes","transportation","groupTransport","gdprConsent","termsAndConditionsConsent","responseReceived","getters","totalPrice","priceToReturn","tripData","getTripData","priceForKid","siblingDiscount","selectedTripValue","find","element","value","canBeSubmitted","length","actions","fetchFormData","context","console","log","get","then","response","commit","data","groupTransportStops","submitForm","dataToSend","post","catch","e","mutations","selectTrip","setTripOptions","setGroupTransportOptions","updateCustomer","merge","updateChildren","id","kidStructure","updateAnotherKid","updateNotes","updateTransportation","selectGroupTransport","updateGdprConsent","Boolean","updateTermsAndConditionsConsent","setResponseReceived","namespaced"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport _ from 'lodash';\n\n// initial state\nconst state = {\n  trip: {\n    selected: null,\n    options: []\n  },\n  customer: {\n    title: '',\n    firstName: '',\n    lastName: '',\n    mobile: '',\n    email: '',\n    address: {\n      streetNumber: '',\n      city: '',\n      zipCode: '',\n    }\n  },\n  children: {\n    \"0\": {\n      firstName: '',\n      lastName: '',\n      dateOfBirth: '',\n    },\n    \"1\": {\n      firstName: '',\n      lastName: '',\n      dateOfBirth: '',\n    }\n  },\n  anotherKid: false,\n  notes: '',\n  transportation: '',\n  groupTransport: {\n    selected: null,\n    options: []\n  },\n\n  gdprConsent: false,\n  termsAndConditionsConsent: false,\n  responseReceived: 0,\n};\n\n// getters\nconst getters = {\n  totalPrice: (state, getters) => {\n    let priceToReturn = 0;\n    if (state.trip.selected) {\n      const tripData = getters.getTripData(state.trip.selected);\n      priceToReturn += tripData.priceForKid;\n\n      if (state.transportation === 'group') {\n        priceToReturn += 15;\n      }\n\n      if (state.anotherKid) {\n        priceToReturn = (priceToReturn - tripData.siblingDiscount) * 2;\n      }\n    }\n\n    return priceToReturn;\n  },\n  getTripData: (state) => (selectedTripValue) => {\n    if (selectedTripValue) {\n      return state.trip.options.find(element => element.value === selectedTripValue);\n    }\n\n    return null;\n  },\n  canBeSubmitted: (state) => {\n    return state.customer.firstName.length &&\n      state.customer.lastName.length &&\n      state.customer.mobile.length &&\n      state.customer.email.length &&\n      state.customer.address.streetNumber.length &&\n      state.customer.address.city.length &&\n      state.customer.address.zipCode.length &&\n      // child validation\n      state.children[0].firstName.length &&\n      state.children[0].lastName.length &&\n      state.children[0].dateOfBirth.length &&\n      (\n        !state.anotherKid ||\n        (\n          state.anotherKid &&\n          state.children[1].firstName.length &&\n          state.children[1].lastName.length &&\n          state.children[1].dateOfBirth.length\n        )\n      ) &&\n      // transport validation\n      (\n        state.transportation === 'individual' ||\n        (state.transportation === 'group' && state.groupTransport.selected)\n      ) &&\n      // consents validation\n      state.gdprConsent &&\n      state.termsAndConditionsConsent;\n  }\n};\n\n// actions\nconst actions = {\n  fetchFormData(context) {\n    console.log('fetchFormData')\n    axios.get('https://smajlovo.sk/orderForm/back/public/index.php/getFormData')\n      .then(function (response) {\n        // handle success\n        console.log(response);\n        context.commit('setTripOptions', response.data.tripData)\n        context.commit('setGroupTransportOptions', response.data.groupTransportStops)\n      });\n  },\n  submitForm(context) {\n    console.log('submit form action', context)\n    context.commit('setResponseReceived', false);\n    const dataToSend = { ...context.state, };\n    console.log('submit form action', dataToSend);\n    dataToSend.totalPrice = context.getters.totalPrice;\n    axios.post('https://smajlovo.sk/orderForm/back/public/index.php/submitForm', dataToSend)\n      .then(function (response) {\n        // handle success\n        console.log(response);\n        context.commit('setResponseReceived', 200)\n      })\n      .catch(function (e) {\n        // handle success\n        console.log(e);\n        context.commit('setResponseReceived', 500)\n      });\n  }\n};\n\n// mutations\nconst mutations = {\n  selectTrip(state, value) {\n    state.trip.selected = value;\n  },\n  setTripOptions(state, value) {\n    state.trip.options = value;\n  },\n  setGroupTransportOptions(state, value) {\n    state.groupTransport.options = value;\n  },\n  updateCustomer(state, customer) {\n    state.customer = _.merge({}, state.customer, customer);\n  },\n  updateChildren(state, { id, kidStructure }) {\n    state.children = _.merge({}, state.children, { [id]: kidStructure });\n  },\n  updateAnotherKid(state, value) {\n    state.anotherKid = value;\n  },\n  updateNotes(state, value) {\n    state.notes = value;\n  },\n  updateTransportation(state, value) {\n    state.transportation = value;\n  },\n  selectGroupTransport(state, value) {\n    state.groupTransport.selected = value;\n  },\n  updateGdprConsent(state, value) {\n    state.gdprConsent = Boolean(value);\n  },\n  updateTermsAndConditionsConsent(state, value) {\n    console.log('updateTermsAndConditionsConsent', Boolean(value))\n    state.termsAndConditionsConsent = Boolean(value);\n  },\n  setResponseReceived(state, value) {\n    state.responseReceived = value;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n}\n"]}]}